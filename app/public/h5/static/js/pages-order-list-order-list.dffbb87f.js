(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-list-order-list"],{"1e4b":function(e,t,n){"use strict";n.r(t);var i=n("9ca6"),r=n("a310");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("b100");var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"392fea01",null,!1,i["a"],o);t["default"]=c.exports},"26e4":function(e,t,n){"use strict";var i=n("aeab"),r=n.n(i);r.a},"394d":function(e,t,n){"use strict";var i=n("ee27");n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=i(n("c964")),a=i(n("600b")),o=i(n("1e4b")),s={components:{LeeTabs:a.default,LeeOrderCenter:o.default},data:function(){return{tabs:["待支付","待发货","已发货","全部"],defaultIndex:Number(this.$route.query.index||0)}},onPullDownRefresh:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$refs.tabs.currentIndex,i=e.$refs["content".concat(n)],i){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,i.refreshData();case 6:uni.stopPullDownRefresh();case 7:case"end":return t.stop()}}),t)})))()}};t.default=s},"483c":function(e,t,n){"use strict";var i,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("lee-tabs",{ref:"tabs",attrs:{tabs:e.tabs,defaultIndex:e.defaultIndex}},[n("LeeOrderCenter",{ref:"content0",attrs:{slot:"content-0",status:0},slot:"content-0"}),n("LeeOrderCenter",{ref:"content1",attrs:{slot:"content-1",status:1},slot:"content-1"}),n("LeeOrderCenter",{ref:"content2",attrs:{slot:"content-2",status:2},slot:"content-2"}),n("LeeOrderCenter",{ref:"content3",attrs:{slot:"content-3",status:3},slot:"content-3"})],1)],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},"5cc1":function(e,t,n){"use strict";var i,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"lee-tabs",style:{height:e.height}},[n("v-uni-scroll-view",{staticClass:"lee-tabs-column",attrs:{"scroll-x":"true"}},[n("v-uni-view",{staticClass:"lee-tabs-column-content"},[e._t("column-before"),n("v-uni-view",{staticClass:"lee-tabs-list"},e._l(e.tabs,(function(t,i){return n("v-uni-view",{key:i,staticClass:"lee-tabs-item",class:{active:e.currentIndex===i},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectTabsHandler(i)}}},[e._v(e._s(t))])})),1)],2)],1),n("v-uni-view",{staticClass:"lee-tabs-content"},[n("v-uni-swiper",{staticClass:"lee-tabs-swiper",attrs:{current:e.currentIndex},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.swiperChangeHandler.apply(void 0,arguments)}}},e._l(e.tabs,(function(t,i){return n("v-uni-swiper-item",{key:i,staticClass:"lee-tabs-swiper-item"},[e.loaded.includes(i)?e._t("content-"+i):e._e()],2)})),1)],1)],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},"600b":function(e,t,n){"use strict";n.r(t);var i=n("5cc1"),r=n("e0d2");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("7e4c");var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"258ce1d2",null,!1,i["a"],o);t["default"]=c.exports},"624e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{item:Object},filters:{priceFormatter:function(e){return"￥".concat(e/100)}},methods:{removeBtnHandler:function(){this.$emit("remove")},cancelBtnHandler:function(){this.$emit("cancel")},payBtnHandler:function(){this.$emit("pay")},confirmHandler:function(){this.$emit("confirm")},gotoWuliuPage:function(){uni.navigateTo({url:"/pages/wuliu/wuliu?nu=".concat(this.item.nu)})}}};t.default=i},"62d2":function(e,t,n){"use strict";var i=n("ee27");n("99af"),n("4de4"),n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=i(n("c964")),a=i(n("733f")),o={components:{LeeOrderItem:a.default},props:{status:{type:Number,required:!0}},data:function(){return{page:1,pagesize:10,total:0,list:[]}},computed:{filter:function(){var e={timePayed:{$exists:!1},timeRefund:{$exists:!1},timeClosed:{$exists:!1},timeConsign:{$exists:!1}};return 0===this.status?e:1===this.status?(e.timePayed.$exists=!0,e):2===this.status?(e.timePayed.$exists=!0,e.timeConsign.$exists=!0,e):{}}},created:function(){this.getOrderList(1)},methods:{getOrderList:function(e,t){var n=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return uni.showLoading({title:"正在加载"}),i.next=3,n.$http.post("/order/search",{page:Math.max(1,e),pagesize:n.pagesize,filter:n.filter});case 3:r=i.sent,a=r.data,uni.hideLoading(),"ok"===a.status&&(n.page=a.data.page,n.pagesize=a.data.pagesize,n.total=a.data.total,n.list=t?a.data.list:n.list.concat(a.data.list));case 7:case"end":return i.stop()}}),i)})))()},removeOrder:function(e){var t=this;uni.showModal({title:"删除提示",content:"是否删除订单？",success:function(){var n=(0,r.default)(regeneratorRuntime.mark((function n(i){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=i.confirm,r){n.next=3;break}return n.abrupt("return");case 3:return uni.showLoading({title:"正在删除"}),n.next=6,t.$http.post("/order/remove",{_id:e._id});case 6:if(a=n.sent,o=a.data,uni.hideLoading(),"ok"===o.status){n.next=12;break}return uni.showToast({icon:"none",title:o.errmsg}),n.abrupt("return");case 12:return uni.showToast({title:"删除成功"}),n.next=15,t.getOrderList(1,!0);case 15:case"end":return n.stop()}}),n)})));function i(e){return n.apply(this,arguments)}return i}()})},cancelOrder:function(e){var t=this;uni.showModal({title:"取消提示",content:"是否取消订单？",success:function(){var n=(0,r.default)(regeneratorRuntime.mark((function n(i){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=i.confirm,r){n.next=3;break}return n.abrupt("return");case 3:return uni.showLoading({title:"正在取消"}),n.next=6,t.$http.post("/order/cancel",{_id:e._id});case 6:if(a=n.sent,o=a.data,uni.hideLoading(),"ok"===o.status){n.next=12;break}return uni.showToast({icon:"none",title:o.errmsg}),n.abrupt("return");case 12:return uni.showToast({title:"取消成功"}),n.next=15,t.getOrderList(1,!0);case 15:case"end":return n.stop()}}),n)})));function i(e){return n.apply(this,arguments)}return i}()})},payOrder:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$utils.gotoPayment(e._id);case 2:case"end":return n.stop()}}),n)})))()},onScrollToLower:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.list.length<e.total)){t.next=3;break}return t.next=3,e.getOrderList(e.page+1);case 3:case"end":return t.stop()}}),t)})))()},refreshData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getOrderList(1,!0);case 2:case"end":return t.stop()}}),t)})))()},confirmOrder:function(e){var t=this;uni.showModal({title:"提示",content:"是否已经收到货了？",success:function(){var n=(0,r.default)(regeneratorRuntime.mark((function n(i){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=i.confirm,r){n.next=3;break}return n.abrupt("return");case 3:return uni.showLoading({title:"正在加载"}),n.next=6,t.$http.post("/order/confirm",{_id:e._id});case 6:if(a=n.sent,o=a.data,uni.hideLoading(),"ok"===o.status){n.next=12;break}return uni.showToast({icon:"none",title:o.errmsg}),n.abrupt("return");case 12:return uni.showToast({title:"收货完成"}),n.next=15,t.getOrderList(1,!0);case 15:case"end":return n.stop()}}),n)})));function i(e){return n.apply(this,arguments)}return i}()})}}};t.default=o},6390:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义变量 */\n/* 字体 */.defaults[data-v-392fea01]{height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;color:#999}.defaults-icon[data-v-392fea01]{margin-bottom:%?30?%}.list[data-v-392fea01]{padding:%?30?%;position:relative}.list-item + .list-item[data-v-392fea01]{margin-top:%?30?%}',""]),e.exports=t},"67f4":function(e,t,n){"use strict";n.r(t);var i=n("624e"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"733f":function(e,t,n){"use strict";n.r(t);var i=n("d709"),r=n("67f4");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("26e4");var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"08a52717",null,!1,i["a"],o);t["default"]=c.exports},"7e4c":function(e,t,n){"use strict";var i=n("84dc"),r=n.n(i);r.a},"84dc":function(e,t,n){var i=n("c627");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("2813cec5",i,!0,{sourceMap:!1,shadowMode:!1})},"87a4":function(e,t,n){"use strict";n("caad"),n("a9e3"),n("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{tabs:{type:Array,required:!0},height:{type:String,default:"100vh"},defaultIndex:{type:Number,default:0}},data:function(){return{currentIndex:-1,loaded:[]}},created:function(){this.currentIndex=this.defaultIndex},methods:{selectTabsHandler:function(e){this.currentIndex=e},swiperChangeHandler:function(e){this.currentIndex=e.detail.current}},watch:{currentIndex:function(e){this.loaded.includes(e)||this.loaded.push(e)}}};t.default=i},"946b":function(e,t,n){"use strict";n.r(t);var i=n("483c"),r=n("9619");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"6cad6db8",null,!1,i["a"],o);t["default"]=c.exports},9619:function(e,t,n){"use strict";n.r(t);var i=n("394d"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"9ca6":function(e,t,n){"use strict";var i={"uni-icons":n("2575").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0===e.list.length?n("v-uni-view",{staticClass:"defaults"},[n("v-uni-view",{staticClass:"defaults-icon"},[n("uni-icons",{attrs:{type:"cart-filled",color:"#999",size:50}})],1),n("v-uni-view",{staticClass:"defaults-title"},[e._v("暂无数据")])],1):n("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.onScrollToLower.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"list"},e._l(e.list,(function(t,i){return n("lee-order-item",{key:i,staticClass:"list-item",attrs:{item:t},on:{remove:function(n){arguments[0]=n=e.$handleEvent(n),e.removeOrder(t)},cancel:function(n){arguments[0]=n=e.$handleEvent(n),e.cancelOrder(t)},pay:function(n){arguments[0]=n=e.$handleEvent(n),e.payOrder(t)},confirm:function(n){arguments[0]=n=e.$handleEvent(n),e.confirmOrder(t)}}})})),1),e.total===e.list.length?n("v-uni-view",{staticClass:"nomore"},[e._v("- 没有更多了 -")]):e._e()],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},a310:function(e,t,n){"use strict";n.r(t);var i=n("62d2"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},aeab:function(e,t,n){var i=n("f96e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("0f70519c",i,!0,{sourceMap:!1,shadowMode:!1})},b100:function(e,t,n){"use strict";var i=n("e1db"),r=n.n(i);r.a},c627:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义变量 */\n/* 字体 */.lee-tabs[data-v-258ce1d2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.lee-tabs-column[data-v-258ce1d2]{height:%?100?%}.lee-tabs-column-content[data-v-258ce1d2]{height:%?100?%;background-color:#fff;box-shadow:0 %?2?% %?2?% rgba(0,0,0,.15);display:-webkit-box;display:-webkit-flex;display:flex}.lee-tabs-list[data-v-258ce1d2]{height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex}.lee-tabs-item[data-v-258ce1d2]{height:%?100?%;min-width:%?140?%;line-height:%?100?%;text-align:center;position:relative}.lee-tabs-item.active[data-v-258ce1d2]{color:#007aff}.lee-tabs-item.active[data-v-258ce1d2]::after{content:"";left:25%;bottom:0;width:50%;height:%?6?%;border-radius:%?6?%;position:absolute;background-color:#007aff}.lee-tabs-content[data-v-258ce1d2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:0;position:relative}.lee-tabs-swiper[data-v-258ce1d2]{height:100%}',""]),e.exports=t},d709:function(e,t,n){"use strict";var i,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"order"},[n("v-uni-view",{staticClass:"order-product"},[n("v-uni-image",{staticClass:"order-product-image",attrs:{src:e.item.productSnapShot.thumbnail}}),n("v-uni-view",{staticClass:"order-product-info"},[n("v-uni-view",{staticClass:"order-product-title"},[e._v(e._s(e.item.productSnapShot.name))]),n("v-uni-view",{staticClass:"order-product-footer"},[n("v-uni-view",{staticClass:"order-product-price"},[e._v(e._s(e._f("priceFormatter")(e.item.productSnapShot.price)))]),n("v-uni-view",{staticClass:"order-product-count"},[e._v("x"+e._s(e.item.count))])],1)],1)],1),n("v-uni-view",{staticClass:"order-content"},[n("div",{staticClass:"order-price"},[e._v("总价 "+e._s(e._f("priceFormatter")(e.item.priceSum))+", 实付款"),n("v-uni-text",{staticClass:"order-price-mark"},[e._v(e._s(e._f("priceFormatter")(e.item.totalFee)))])],1),n("v-uni-view",{staticClass:"order-footer"},[n("v-uni-view",{staticClass:"order-status"},[e._v(e._s(e.item.status))]),n("v-uni-view",{staticClass:"order-options"},[e.item.timeClosed?n("v-uni-view",{staticClass:"order-options-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.removeBtnHandler.apply(void 0,arguments)}}},[e._v("删除订单")]):[e.item.timePayed?e._e():n("v-uni-view",{staticClass:"order-options-item primary",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.payBtnHandler.apply(void 0,arguments)}}},[e._v("去付款")]),e.item.timePayed?e._e():n("v-uni-view",{staticClass:"order-options-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelBtnHandler.apply(void 0,arguments)}}},[e._v("取消订单")]),e.item.timeConsign?n("v-uni-view",{staticClass:"order-options-item primary",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmHandler.apply(void 0,arguments)}}},[e._v("确认收货")]):e._e()],e.item.nu?n("v-uni-view",{staticClass:"order-options-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.gotoWuliuPage()}}},[e._v("查看物流")]):e._e()],2)],1)],1)],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},e0d2:function(e,t,n){"use strict";n.r(t);var i=n("87a4"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},e1db:function(e,t,n){var i=n("6390");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("413dc3ec",i,!0,{sourceMap:!1,shadowMode:!1})},f96e:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义变量 */\n/* 字体 */.order[data-v-08a52717]{border-radius:%?10?%;background-color:#fff;box-shadow:0 0 %?2?% rgba(0,0,0,.15);overflow:hidden}.order-content[data-v-08a52717]{padding:%?20?%}.order-footer[data-v-08a52717]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.order-product[data-v-08a52717]{height:%?160?%;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#e5e5e5}.order-product-image[data-v-08a52717]{width:%?160?%;height:%?160?%;margin-right:%?20?%}.order-product-info[data-v-08a52717]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:0;height:%?160?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;box-sizing:border-box;padding:%?10?%}.order-product-title[data-v-08a52717]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.order-product-footer[data-v-08a52717]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.order-price[data-v-08a52717]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:%?28?%;margin-bottom:%?30?%}.order-price-mark[data-v-08a52717]{font-size:%?32?%;font-weight:600;color:#f40}.order-options[data-v-08a52717]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%}.order-options-item[data-v-08a52717]{height:%?60?%;line-height:%?60?%;text-align:center;padding:0 %?30?%;border-radius:%?60?%;border:%?2?% solid #666;color:#666;white-space:nowrap}.order-options-item[data-v-08a52717]:not(:last-child){margin-right:%?20?%}.order-options-item.primary[data-v-08a52717]{border-color:#007aff;color:#007aff}',""]),e.exports=t}}]);